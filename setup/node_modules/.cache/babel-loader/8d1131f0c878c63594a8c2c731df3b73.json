{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\nexport const useFetch = url => {\n  const {\n    setLoading,\n    setErrorMessage,\n    setData\n  } = useGlobalContext();\n\n  const getData = async () => {\n    console.log(\"use fetch invoked\", url);\n    setLoading(true);\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const {\n        Response,\n        Error\n      } = data;\n\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n        setData(null);\n      } else {\n        setData(data);\n        setErrorMessage(null);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};","map":{"version":3,"sources":["/Users/mazal/Documents/selfProjects/reactPractice/react-practice-projects/movie-db/src/useFetch.js"],"names":["React","useEffect","useGlobalContext","useFetch","url","setLoading","setErrorMessage","setData","getData","console","log","response","fetch","data","json","Response","Error","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,gBAAT,QAAiC,WAAjC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,GAAD,IAAS;AAC/B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,eAAd;AAA+BC,IAAAA;AAA/B,MAA2CL,gBAAgB,EAAjE;;AAEA,QAAMM,OAAO,GAAG,YAAY;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCN,GAAjC;AACAC,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACR,GAAD,CAA5B;AACA,YAAMS,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAsBH,IAA5B;;AACA,UAAIE,QAAQ,KAAK,OAAjB,EAA0B;AACxBT,QAAAA,eAAe,CAACU,KAAD,CAAf;AACAT,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD,OAHD,MAGO;AACLA,QAAAA,OAAO,CAACM,IAAD,CAAP;AACAP,QAAAA,eAAe,CAAC,IAAD,CAAf;AACD;AACF,KAXD,CAWE,OAAOW,KAAP,EAAc;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD;;AACDZ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAlBD;;AAoBAJ,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACJ,GAAD,CAFM,CAAT;AAGD,CA1BM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\n\nexport const useFetch = (url) => {\n  const { setLoading, setErrorMessage, setData } = useGlobalContext();\n\n  const getData = async () => {\n    console.log(\"use fetch invoked\", url);\n    setLoading(true);\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const { Response, Error } = data;\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n        setData(null);\n      } else {\n        setData(data);\n        setErrorMessage(null);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};\n"]},"metadata":{},"sourceType":"module"}