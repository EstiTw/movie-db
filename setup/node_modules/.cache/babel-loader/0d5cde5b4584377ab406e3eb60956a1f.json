{"ast":null,"code":"var _jsxFileName = \"/Users/mazal/Documents/selfProjects/reactPractice/react-practice-projects/movie-db/src/SingleMovie.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { API_ENDPOINT } from \"./context\";\nimport { useFetch } from \"./useFetch\";\nimport Error from \"./Error\";\n\nconst SingleMovie = () => {\n  const {\n    loading,\n    data\n  } = useGlobalContext();\n  const {\n    id\n  } = useParams(); // const [loading, setLoading] = useState(true);\n\n  const [movie, setMovie] = useState({});\n  useFetch(`${API_ENDPOINT}&i=${id}`);\n\n  if (data) {\n    console.log(\"single data\", data); // const { Search: movies } = data;\n    // setMovies(movies);\n  }\n\n  const fetchMovie = async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(`${API_ENDPOINT}&i=${id}`);\n      const data = await response.json();\n      const {\n        Response\n      } = data;\n      console.log(Response);\n\n      if (Response === \"False\") {\n        console.log(\"no movie\");\n      } else {\n        setMovie(data); // console.log(data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchMovie();\n  }, []);\n  if (loading) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  });\n  const {\n    Title: title,\n    Year: year,\n    Plot: description,\n    Poster: image\n  } = movie; // console.log(!title);\n\n  if (!title) return /*#__PURE__*/React.createElement(Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 22\n    }\n  }); // console.log(\"movie\", movie, movie == {});\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"single-movie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"single-movie-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, description), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, year), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"back to movies\")));\n};\n\nexport default SingleMovie;","map":{"version":3,"sources":["/Users/mazal/Documents/selfProjects/reactPractice/react-practice-projects/movie-db/src/SingleMovie.js"],"names":["React","useState","useEffect","useParams","Link","API_ENDPOINT","useFetch","Error","SingleMovie","loading","data","useGlobalContext","id","movie","setMovie","console","log","fetchMovie","setLoading","response","fetch","json","Response","error","Title","title","Year","year","Plot","description","Poster","image"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { API_ENDPOINT } from \"./context\";\nimport { useFetch } from \"./useFetch\";\nimport Error from \"./Error\";\n\nconst SingleMovie = () => {\n  const { loading, data } = useGlobalContext();\n  const { id } = useParams();\n  // const [loading, setLoading] = useState(true);\n  const [movie, setMovie] = useState({});\n  useFetch(`${API_ENDPOINT}&i=${id}`);\n\n  if (data) {\n    console.log(\"single data\", data);\n    // const { Search: movies } = data;\n    // setMovies(movies);\n  }\n\n  const fetchMovie = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_ENDPOINT}&i=${id}`);\n      const data = await response.json();\n      const { Response } = data;\n      console.log(Response);\n      if (Response === \"False\") {\n        console.log(\"no movie\");\n      } else {\n        setMovie(data);\n        // console.log(data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchMovie();\n  }, []);\n\n  if (loading) return <div className=\"loading\" />;\n\n  const { Title: title, Year: year, Plot: description, Poster: image } = movie;\n  // console.log(!title);\n  if (!title) return <Error />;\n  // console.log(\"movie\", movie, movie == {});\n  return (\n    <section className=\"single-movie\">\n      <img src={image} alt={title} />\n      <div className=\"single-movie-info\">\n        <h2>{title}</h2>\n        <p>{description}</p>\n        <h4>{year}</h4>\n        <Link to=\"/\" className=\"btn\">\n          back to movies\n        </Link>\n      </div>\n    </section>\n  );\n};\n\nexport default SingleMovie;\n"]},"metadata":{},"sourceType":"module"}