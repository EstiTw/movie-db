{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\nexport const useFetch = url => {\n  const {\n    setLoading,\n    setErrorMessage,\n    setData\n  } = useGlobalContext();\n\n  const getProducts = async () => {\n    const response = await fetch(url);\n    const items = await response.json();\n    setProducts(items);\n    setLoading(false);\n  };\n\n  const getData = async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const {\n        Response,\n        Error\n      } = data;\n      console.log(Response);\n\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n      } else {\n        setData(data);\n        setErrorMessage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};","map":{"version":3,"sources":["/Users/mazal/Documents/selfProjects/reactPractice/react-practice-projects/movie-db/src/useFetch.js"],"names":["React","useEffect","useGlobalContext","useFetch","url","setLoading","setErrorMessage","setData","getProducts","response","fetch","items","json","setProducts","getData","data","Response","Error","console","log","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,gBAAT,QAAiC,WAAjC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,GAAD,IAAS;AAC/B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,eAAd;AAA+BC,IAAAA;AAA/B,MAA2CL,gBAAgB,EAAjE;;AAEA,QAAMM,WAAW,GAAG,YAAY;AAC9B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAD,CAA5B;AACA,UAAMO,KAAK,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAApB;AACAC,IAAAA,WAAW,CAACF,KAAD,CAAX;AACAN,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GALD;;AAOA,QAAMS,OAAO,GAAG,YAAY;AAC1BT,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAD,CAA5B;AACA,YAAMW,IAAI,GAAG,MAAMN,QAAQ,CAACG,IAAT,EAAnB;AACA,YAAM;AAAEI,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAsBF,IAA5B;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,UAAIA,QAAQ,KAAK,OAAjB,EAA0B;AACxBV,QAAAA,eAAe,CAACW,KAAD,CAAf;AACD,OAFD,MAEO;AACLV,QAAAA,OAAO,CAACQ,IAAD,CAAP;AACAT,QAAAA,eAAe,CAAC,EAAD,CAAf;AACD;AACF,KAXD,CAWE,OAAOc,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD;;AACDf,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAjBD;;AAmBAJ,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACV,GAAD,CAFM,CAAT;AAGD,CAhCM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\n\nexport const useFetch = (url) => {\n  const { setLoading, setErrorMessage, setData } = useGlobalContext();\n\n  const getProducts = async () => {\n    const response = await fetch(url);\n    const items = await response.json();\n    setProducts(items);\n    setLoading(false);\n  };\n\n  const getData = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const { Response, Error } = data;\n      console.log(Response);\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n      } else {\n        setData(data);\n        setErrorMessage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};\n"]},"metadata":{},"sourceType":"module"}