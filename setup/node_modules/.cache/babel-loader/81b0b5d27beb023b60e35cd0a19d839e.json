{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\nexport const useFetch = url => {\n  const {\n    setLoading,\n    setErrorMessage,\n    setData\n  } = useGlobalContext(); // const getProducts = async () => {\n  //   const response = await fetch(url);\n  //   const items = await response.json();\n  //   setLoading(false);\n  // };\n\n  const getData = async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const {\n        Response,\n        Error\n      } = data;\n      console.log(Response);\n\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n      } else {\n        setData(data);\n        setErrorMessage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};","map":{"version":3,"sources":["/Users/mazal/Documents/selfProjects/reactPractice/react-practice-projects/movie-db/src/useFetch.js"],"names":["React","useEffect","useGlobalContext","useFetch","url","setLoading","setErrorMessage","setData","getData","response","fetch","data","json","Response","Error","console","log","error"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,gBAAT,QAAiC,WAAjC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,GAAD,IAAS;AAC/B,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,eAAd;AAA+BC,IAAAA;AAA/B,MAA2CL,gBAAgB,EAAjE,CAD+B,CAG/B;AACA;AACA;AACA;AACA;;AAEA,QAAMM,OAAO,GAAG,YAAY;AAC1BH,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAD,CAA5B;AACA,YAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAsBH,IAA5B;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,UAAIA,QAAQ,KAAK,OAAjB,EAA0B;AACxBP,QAAAA,eAAe,CAACQ,KAAD,CAAf;AACD,OAFD,MAEO;AACLP,QAAAA,OAAO,CAACI,IAAD,CAAP;AACAL,QAAAA,eAAe,CAAC,EAAD,CAAf;AACD;AACF,KAXD,CAWE,OAAOW,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD;;AACDZ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAjBD;;AAmBAJ,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACJ,GAAD,CAFM,CAAT;AAGD,CA/BM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useGlobalContext } from \"./context\";\n\nexport const useFetch = (url) => {\n  const { setLoading, setErrorMessage, setData } = useGlobalContext();\n\n  // const getProducts = async () => {\n  //   const response = await fetch(url);\n  //   const items = await response.json();\n  //   setLoading(false);\n  // };\n\n  const getData = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const { Response, Error } = data;\n      console.log(Response);\n      if (Response === \"False\") {\n        setErrorMessage(Error);\n      } else {\n        setData(data);\n        setErrorMessage(\"\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [url]);\n};\n"]},"metadata":{},"sourceType":"module"}